<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
    </head>
    <style>
        html,
        body {
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        canvas {
            background: black;
        }
        
        .start-button {
            border: 2px, solid, #ffffff;
            background: transparent;
            color: #ffffff;
            position: absolute;
            transform: translateY(90px);
            width: 180px;
            height: 40px;
            border-radius: 14px;
            font-size: 20px;
        }

        .start-button:hover{
            cursor: pointer;
        }
        
        
    </style>

    <body>
        <canvas id="canvas">

  </canvas>
        <button class="start-button">START GAME</button>
    </body>
    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext("2d");

        canvas.width = 800;
        canvas.height = 600;

        function drawStart() {
            var enemy = new Enemy(ctx, 700, 100);
            enemy.draw();

            var triangle = new Triangle(ctx, 560, 500, 10);
            triangle.draw();

            var meteor = new Meteor(ctx, 40, 180, -70);
            meteor.draw();





            // Battery
            ctx.save();
            ctx.translate(320, 230);
            ctx.fillStyle = "F5AF5F";
            ctx.fillRect(0, 10, 40, 70);
            ctx.fillRect(0, 85, 40, 5);

            ctx.fillStyle = "#FFFFFF";
            ctx.fillRect(10, 0, 20, 10)

            ctx.beginPath(); //lighting
            ctx.moveTo(20, 25);
            ctx.lineTo(10, 48);
            ctx.lineTo(22, 48);
            ctx.lineTo(20, 65);
            ctx.lineTo(30, 42);
            ctx.lineTo(17, 42);
            ctx.closePath();
            ctx.fill();


            ctx.font = "30px Arial";
            ctx.fillText("Radio Defence", -20, 120);
            ctx.font = "150px Arial";
            ctx.fillText("R", 55, 90);

            ctx.restore();
        }

        function Shape(ctx, x, y, angle) {
            this.ctx = ctx;
            this.postionX = x || 0;
            this.postionY = y || 0;
            this.angle = angle || 0;
            // this.deg = Math.PI / 180;
            this.deg = Math.PI / 180;
        }

        // Object.defineProperty(Shape, 'deg', {
        //     value: Math.PI / 180
        // })

        function Enemy(ctx, x, y) {
            Object.getPrototypeOf(Shape.prototype).constructor.call(this);
            Shape.apply(this, arguments);

            this.draw = function() {

                console.log('deg:', this.deg);
                this.ctx.beginPath();
                this.ctx.save();
                this.ctx.translate(this.postionX, this.postionY);
                this.ctx.arc(0, 0, 50, 0, Math.PI * 2);
                this.ctx.closePath();
                this.ctx.fillStyle = "#F5AF5F";
                this.ctx.fill();
                this.ctx.stroke();
                this.ctx.restore();
                this.ctx.closePath();
            }
        }

        function Triangle(ctx, x, y, angle) {
            Object.getPrototypeOf(Shape.prototype).constructor.call(this);
            Shape.apply(this, arguments);

            this.draw = function() {
                console.log(this.deg);
                console.log(this);
                //blue triangle
                this.ctx.beginPath();
                this.ctx.save();
                this.ctx.translate(this.postionX, this.postionY);
                this.ctx.rotate(this.angle * this.deg);
                // this.ctx.beginPath();
                // this.ctx.moveTo(0, 0);
                // this.ctx.lineTo(80, 0);
                // this.ctx.lineTo(40, -80);
                // this.ctx.closePath();
                let r = 40;
                this.ctx.rotate(30 * this.deg);
                this.ctx.moveTo(0, 0);
                this.ctx.lineTo(r, 0)

                this.ctx.rotate(120 * this.deg);
                this.ctx.lineTo(r, 0)

                this.ctx.rotate(120 * this.deg);
                this.ctx.lineTo(r, 0)

                this.ctx.rotate(120 * this.deg);
                this.ctx.lineTo(r, 0);
                this.ctx.fillStyle = "#3676BB";
                this.ctx.fill();
                this.ctx.restore();
                this.ctx.closePath();
            }
        }

        function Meteor(ctx, x, y, angle) {
            Object.getPrototypeOf(Shape.prototype).constructor.call(this);
            Shape.apply(this, arguments);


            this.draw = function() {
                //red meteor
                this.ctx.save();
                this.ctx.translate(this.postionX, this.postionY);
                this.ctx.rotate(this.angle * this.deg)
                this.ctx.beginPath();
                this.ctx.moveTo(50, 0);
                this.ctx.lineTo(0, 50);
                this.ctx.lineTo(0, 110);
                this.ctx.lineTo(50, 130);
                this.ctx.lineTo(90, 100);
                this.ctx.lineTo(90, 50);
                this.ctx.closePath();
                this.ctx.fillStyle = "#E7465D";
                this.ctx.fill();
                this.ctx.restore();
            }
        }

        function Wave(){
            //inner circle
            ctx.clearRect(180,300, 445, 100);
            ctx.beginPath();
            ctx.arc(400, 300, 150, 0, Math.PI * 2);
            ctx.globalAlpha = ((count+1)%3 )* 0.5;          // ctx.closePath();
            ctx.strokeStyle = `#ffffff`;
            ctx.stroke();
            console.log(`#ffffff ${count%3 * 0.5}`)
            
            // outer circle
            ctx.beginPath();
            ctx.arc(400, 300, 220, 0, Math.PI * 2);
            ctx.closePath();
            ctx.strokeStyle = `#ffffff ${(count%3)* 0.5}`;
            console.log(`#ffffff ${(count%3)* 0.5}`);
            ctx.lineWidth = 2;
            ctx.globalAlpha = (count%3 )* 0.5;
            ctx.stroke();
            count++;
            // ctx.clearRect(180,80, 400, 400);
            console.log(count);
        }
        drawStart();
        var count = 0;
        setInterval(Wave, 1000);

    </script>

</html>